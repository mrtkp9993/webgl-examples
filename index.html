<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <meta name="title" content="Shaders | Computer Art & Graphics | Murat Koptur">
    <meta name="description" content="Exploring the intersection of mathematics, code, and aesthetics.">
    <meta name="keywords"
        content="shaders, computer art, generative art, creative coding, GLSL, fragment shader, vertex shader, real-time graphics, procedural graphics, procedural art, algorithmic art, GPU art, digital art, generative visuals, raymarching, signed distance fields, SDF, noise functions, Perlin noise, simplex noise, visual computing, computational art, mathematical art, code art, experimental graphics, interactive visuals, WebGL, shader art, creative graphics, Murat Koptur">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="author" content="Murat Koptur">
    <!-- Open Graph Meta Tags -->
    <meta property="og:url" content="https://shaders.muratkoptur.com">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Shaders | Computer Art & Graphics | Murat Koptur">
    <meta property="og:description" content="Exploring the intersection of mathematics, code, and aesthetics.">
    <meta property="og:image" content="https://shaders.muratkoptur.com/social.webp">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="shaders.muratkoptur.com">
    <meta property="twitter:url" content="https://shaders.muratkoptur.com">
    <meta name="twitter:title" content="Shaders | Computer Art & Graphics | Murat Koptur">
    <meta name="twitter:description" content="Exploring the intersection of mathematics, code, and aesthetics.">
    <meta name="twitter:image" content="https://shaders.muratkoptur.com/social.webp">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #000007ff;
            --deep-purple: #651A5Eff;
            --midnight-violet: #150725ff;
            --black-2: #000300ff;
            --raspberry-plum: #CC33A4ff;

            --bg-primary: var(--black);
            --bg-secondary: var(--black);
            --text-primary: #e5e5e5;
            --text-secondary: var(--raspberry-plum);
            --border: var(--deep-purple);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 200px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar-header {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-header h1 {
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-header h1 img {
            width: 16px;
            height: 16px;
        }

        .shader-list {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }

        .shader-list::-webkit-scrollbar {
            width: 4px;
        }

        .shader-list::-webkit-scrollbar-track {
            background: transparent;
        }

        .shader-list::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 2px;
        }

        .shader-item {
            padding: 10px 12px;
            margin-bottom: 2px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.15s;
        }

        .shader-item:hover {
            background: var(--midnight-violet);
        }

        .shader-item.active {
            background: var(--deep-purple);
        }

        .shader-item h3 {
            font-size: 0.8rem;
            font-weight: 400;
        }

        .shader-item.loading {
            opacity: 0.5;
            pointer-events: none;
        }

        .sidebar-footer {
            padding: 12px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
        }

        .sidebar-footer a {
            color: var(--text-secondary);
            transition: color 0.15s;
        }

        .sidebar-footer a:hover {
            color: var(--text-primary);
        }

        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
            min-width: 0;
        }

        .toolbar {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 12px 16px;
            gap: 8px;
        }

        .toolbar-title {
            display: none;
        }

        .btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 4px;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.15s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-primary);
        }

        .fps-counter {
            font-size: 0.7rem;
            color: var(--text-secondary);
            font-family: monospace;
        }

        .canvas-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        #glCanvas {
            max-width: 100%;
            max-height: 100%;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 160px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><img src="/favicon-16x16.png" alt="">Shaders | Computer Art & Graphics</h1>
            </div>
            <nav class="shader-list" id="shaderList"></nav>
            <div class="sidebar-footer">
                <a href="https://www.linkedin.com/in/muratkoptur/" target="_blank" title="LinkedIn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M8 11v5" />
                        <path d="M8 8v.01" />
                        <path d="M12 16v-5" />
                        <path d="M16 16v-3a2 2 0 1 0 -4 0" />
                        <path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4l0 -10" />
                    </svg>
                </a>
                <a href="https://github.com/mrtkp9993" target="_blank" title="GitHub">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
                    </svg>
                </a>
                <a href="https://muratkoptur.com" target="_blank" title="Main Website">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="icon icon-tabler icons-tabler-outline icon-tabler-world">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
                        <path d="M3.6 9h16.8" />
                        <path d="M3.6 15h16.8" />
                        <path d="M11.5 3a17 17 0 0 0 0 18" />
                        <path d="M12.5 3a17 17 0 0 1 0 18" />
                    </svg>
                </a>
            </div>
        </aside>

        <main class="main">
            <div class="toolbar">
                <span class="fps-counter" id="fpsCounter">-- FPS</span>
                <button class="btn" id="pauseBtn" title="Pause/Play">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="6" y="4" width="4" height="16"></rect>
                        <rect x="14" y="4" width="4" height="16"></rect>
                    </svg>
                </button>
                <button class="btn" id="fullscreenBtn" title="Fullscreen">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <polyline points="9 21 3 21 3 15"></polyline>
                        <line x1="21" y1="3" x2="14" y2="10"></line>
                        <line x1="3" y1="21" x2="10" y2="14"></line>
                    </svg>
                </button>
            </div>
            <span id="currentShader" style="display:none"></span>
            <div class="canvas-container" id="canvasContainer">
                <canvas id="glCanvas" width="800" height="600"></canvas>
            </div>
        </main>
    </div>

    <script>
        let shaders = [];

        const shaderCache = new Map();

        async function loadShaderDefinitions() {
            try {
                const response = await fetch('shaders.json');
                if (!response.ok) throw new Error('Failed to load shaders.json');
                const data = await response.json();
                shaders = data.shaders;
                return true;
            } catch (error) {
                console.error('Error loading shader definitions:', error);
                return false;
            }
        }

        // WebGL setup
        const canvas = document.getElementById('glCanvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');

        let currentProgram = null;
        let animationId = null;
        let isPaused = false;
        let startTime = Date.now();
        let frameCount = 0;
        let lastFpsUpdate = Date.now();

        const vertexShaderSource = `
      attribute vec2 a_position;
      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
      }
    `;

        function createShader(type, source) {
            const shader = gl.createShader(type);
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                console.error('Shader compile error:', gl.getShaderInfoLog(shader));
                gl.deleteShader(shader);
                return null;
            }
            return shader;
        }

        function createProgram(vertexSource, fragmentSource) {
            const vertexShader = createShader(gl.VERTEX_SHADER, vertexSource);
            const fragmentShader = createShader(gl.FRAGMENT_SHADER, fragmentSource);

            if (!vertexShader || !fragmentShader) return null;

            const program = gl.createProgram();
            gl.attachShader(program, vertexShader);
            gl.attachShader(program, fragmentShader);
            gl.linkProgram(program);

            if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
                console.error('Program link error:', gl.getProgramInfoLog(program));
                return null;
            }

            return program;
        }

        function initGL() {
            const buffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
                -1, -1, 1, -1, -1, 1,
                -1, 1, 1, -1, 1, 1
            ]), gl.STATIC_DRAW);
        }

        async function loadShaderFile(filePath) {
            if (shaderCache.has(filePath)) {
                return shaderCache.get(filePath);
            }

            const response = await fetch(filePath);
            if (!response.ok) {
                throw new Error(`Failed to load shader: ${filePath}`);
            }

            const source = await response.text();
            shaderCache.set(filePath, source);
            return source;
        }

        async function loadShader(shader) {
            if (currentProgram) {
                gl.deleteProgram(currentProgram);
            }

            try {
                const fragmentSource = await loadShaderFile(shader.file);
                currentProgram = createProgram(vertexShaderSource, fragmentSource);

                if (!currentProgram) return false;

                gl.useProgram(currentProgram);

                const positionLocation = gl.getAttribLocation(currentProgram, 'a_position');
                gl.enableVertexAttribArray(positionLocation);
                gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

                startTime = Date.now();
                document.getElementById('currentShader').textContent = shader.name;

                return true;
            } catch (error) {
                console.error('Error loading shader:', error);
                document.getElementById('currentShader').textContent = 'Error loading shader';
                return false;
            }
        }

        function render() {
            if (!currentProgram || isPaused) {
                animationId = requestAnimationFrame(render);
                return;
            }

            const time = (Date.now() - startTime) / 1000;

            gl.viewport(0, 0, canvas.width, canvas.height);

            const timeLocation = gl.getUniformLocation(currentProgram, 'u_time');
            const resolutionLocation = gl.getUniformLocation(currentProgram, 'u_resolution');

            gl.uniform1f(timeLocation, time);
            gl.uniform2f(resolutionLocation, canvas.width, canvas.height);

            gl.drawArrays(gl.TRIANGLES, 0, 6);

            frameCount++;
            const now = Date.now();
            if (now - lastFpsUpdate >= 500) {
                const fps = Math.round(frameCount / ((now - lastFpsUpdate) / 1000));
                document.getElementById('fpsCounter').textContent = fps + ' FPS';
                frameCount = 0;
                lastFpsUpdate = now;
            }

            animationId = requestAnimationFrame(render);
        }

        function buildShaderList() {
            const list = document.getElementById('shaderList');
            shaders.forEach((shader, index) => {
                const item = document.createElement('div');
                item.className = 'shader-item';
                item.innerHTML = `<h3>${shader.name}</h3>`;
                item.addEventListener('click', async () => {
                    document.querySelectorAll('.shader-item').forEach(el => el.classList.remove('active'));
                    item.classList.add('active');
                    item.classList.add('loading');
                    await loadShader(shader);
                    item.classList.remove('loading');
                });
                list.appendChild(item);
            });
        }

        document.getElementById('pauseBtn').addEventListener('click', function () {
            isPaused = !isPaused;
            this.innerHTML = isPaused
                ? `<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>`
                : `<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>`;
        });

        document.getElementById('fullscreenBtn').addEventListener('click', function () {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                canvas.requestFullscreen();
            }
        });

        function resizeCanvas() {
            const container = document.getElementById('canvasContainer');
            const ratio = 4 / 3;
            let width = container.clientWidth - 48;
            let height = container.clientHeight - 48;

            if (width / height > ratio) {
                width = height * ratio;
            } else {
                height = width / ratio;
            }

            canvas.width = Math.floor(width);
            canvas.height = Math.floor(height);
        }

        window.addEventListener('resize', resizeCanvas);

        // Initialize
        async function init() {
            const loaded = await loadShaderDefinitions();
            if (!loaded) {
                document.getElementById('shaderList').innerHTML = '<p style="padding: 16px; color: var(--text-secondary);">Failed to load shaders.json</p>';
                return;
            }

            initGL();
            buildShaderList();
            resizeCanvas();
            render();

            document.querySelector('.shader-item')?.click();
        }

        init();
    </script>
</body>

</html>